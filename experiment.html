<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Falling Text Game</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Place your CSS styles here */
    #userInput {
        
        height: 30px; 
         color: #84FF84;  /* Light green */
         font-size: large;
        background-color: rgb(4, 8, 17); /* Gray */
        font-style:   bold;
    }
    #input-container {
        margin-top: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    #userInput {
      width: 600px;
    }
  </style>
</head>
<body style="background: black;">
  <canvas id="myCanvas"></canvas>
  <br>
  <div id="input-container">
    <input placeholder="type code here... than press Enter" type="text" id="userInput" autofocus style="width: 600px;">

  <p id="score" style="position: absolute; top: 0; right: 50px; z-index: 1; font-size: 20px; color: lightgreen;">Score: 0</p>


  <script>
    // Game constants
    const TEXT_COLOR = "#84FF84"; // Light green
    const BACKGROUND_COLOR = "#000000"; // Black
    const FONT_SIZE = 20;
    const LINE_SPACING = 10;
    const FALLING_SPEED = 5/10; // Adjust for desired difficulty
    
  

    // Set canvas to full screen
    const canvas = document.getElementById("myCanvas");
    canvas.width = window.innerWidth -15;
    canvas.height = window.innerHeight - 80;

    const MIN_X = 50; // Adjust according to your canvas size
     const MAX_X = canvas.width - 250; // Consider text width
     let randomX = MIN_X;

    // Initialize drawing context
    const ctx = canvas.getContext("2d");
    ctx.font = FONT_SIZE + "px Arial";
    ctx.fillStyle = BACKGROUND_COLOR;
    ctx.fillRect(0, 0, canvas.width, canvas.height); // Clear canvas

    // Game variables
    let lines = [
        "#include <stdio.h>",
        "",
        "int main()",
        "{",
        "  int i = 1;",
        "",
        "  while (i <= 100)",
        "{",
        "  if (i % 3 == 0 && i % 5 == 0)",
        "{",
        "  printf(\"FizzBuzz\\n\");",
        " } else if (i % 3 == 0)",
        "    { ",
        "     printf(\"Fizz\\n\");",
        "    } else if (i % 5 == 0)",
        "    { ",
        "       printf(\"Buzz\\n\");",
        "    } else",
        "    {",
        "      printf(\"%d\\n\", i);",
        "    }",
        "    i++;",
        "  }",
        "",
        "  return 0;",
        "}"
    ];
    let currentLineIndex = 0;
    let currentLineY = -FONT_SIZE;
    let score = 0;

    // Game loop
    function animate() {
      requestAnimationFrame(animate);
     


      // Update positions
      if (currentLineY < canvas.height - 10)
            currentLineY += FALLING_SPEED;

      // Clear canvas
      ctx.fillStyle = BACKGROUND_COLOR;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Draw falling line
      ctx.fillStyle = TEXT_COLOR; 
      ctx.fillText(lines[currentLineIndex], randomX, currentLineY);// Draw the falling text at the randomized position

        document.addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            // Handle user input checking here 
            const userInput = document.getElementById("userInput").value;
            if (userInput.trim() === lines[currentLineIndex].trim()) {
                score++;
                document.getElementById("score").textContent = `Score: ${score}`;
                currentLineIndex++;
                currentLineY = -FONT_SIZE/2;
                document.getElementById("userInput").value = ""; // Clear input
                // Generate a random x position within the allowed range
                randomX = Math.floor(Math.random() * (MAX_X - MIN_X + 1) + MIN_X);

                // Handle end of lines
                if (currentLineIndex === lines.length) {
                // You can add a win message here or restart the game
                console.log("Congratulations! You typed all the lines correctly.");
                }
            }
            }
        });
      // Check for user input
      
     
    }

    animate();
  </script>
</body>
</html>
